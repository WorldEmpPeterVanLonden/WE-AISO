{
  "entities": {
    "UserProfile": {
      "title": "User Profile",
      "description": "Represents a user's profile in the system.",
      "type": "object",
      "properties": {
        "uid": {
          "type": "string",
          "description": "The user's unique ID."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "The user's email address."
        },
        "displayName": {
          "type": "string",
          "description": "The user's display name."
        },
        "photoURL": {
          "type": "string",
          "description": "URL of the user's profile picture."
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp when the user profile was created."
        }
      },
      "required": [
        "uid",
        "email"
      ]
    },
    "Project": {
      "title": "Project",
      "description": "Represents the root of an AI system project for compliance tracking.",
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the project."
        },
        "version": {
          "type": "string",
          "description": "The version of the project."
        },
        "customerId": {
          "type": "string",
          "description": "The ID of the customer associated with the project."
        },
        "description": {
          "type": "string",
          "description": "A description of the project."
        },
        "useCase": {
          "type": "string",
          "description": "The use case for the AI system."
        },
        "systemType": {
          "type": "string",
          "description": "The type of the AI system.",
          "enum": [
            "LLM",
            "ML",
            "Hybrid",
            "RuleBased"
          ]
        },
        "riskCategory": {
          "type": "string",
          "description": "The risk category of the project.",
          "enum": [
            "high",
            "medium",
            "low"
          ]
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp when the project was created."
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp when the project was last updated."
        },
        "owner": {
          "type": "string",
          "description": "The owner of the project."
        },
        "status": {
          "type": "string",
          "description": "The status of the project.",
          "enum": [
            "draft",
            "active",
            "archived"
          ]
        },
        "auditReadiness": {
          "type": "object",
          "description": "Stores the calculated audit readiness scores.",
          "properties": {
            "lifecycleScore": {
              "type": "number",
              "description": "Score for lifecycle completion (0-1)."
            },
            "riskScore": {
              "type": "number",
              "description": "Score for risk register completeness (0-1)."
            },
            "governanceScore": {
              "type": "number",
              "description": "Score for governance & controls completeness (0-1)."
            },
            "total": {
              "type": "number",
              "description": "Total weighted audit readiness score (0-1)."
            },
            "lastCalculated": {
              "type": "string",
              "format": "date-time",
              "description": "Timestamp of the last score calculation."
            }
          }
        }
      },
      "required": [
        "name",
        "version",
        "owner",
        "createdAt"
      ]
    },
    "BasicInfo": {
      "title": "BasicInfo",
      "description": "Basic information about the project.",
      "type": "object",
      "properties": {
        "businessContext": {
          "type": "string",
          "description": "The business context of the project."
        },
        "intendedUsers": {
          "type": "string",
          "description": "The intended users of the AI system."
        },
        "geographicScope": {
          "type": "string",
          "description": "The geographic scope of the project."
        },
        "legalRequirements": {
          "type": "string",
          "description": "Legal requirements such as GDPR, MDR, AI Act, etc."
        },
        "dataCategories": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Categories of data used by the system."
        },
        "dataSources": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Sources of the data used by the system."
        },
        "externalDependencies": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "External dependencies of the project."
        },
        "dataSensitivity": {
          "type": "string",
          "enum": [
            "low",
            "medium",
            "high",
            "confidential"
          ],
          "description": "The sensitivity level of the data."
        },
        "dataSubjects": {
          "type": "string",
          "description": "The subjects of the data (e.g., customers, employees)."
        },
        "scopeComponents": {
          "type": "string",
          "description": "In-scope and out-of-scope components."
        },
        "stakeholders": {
          "type": "string",
          "description": "Key stakeholders involved in the project."
        },
        "prohibitedUse": {
          "type": "string",
          "description": "Prohibited uses of the AI system."
        },
        "retentionPolicy": {
          "type": "string",
          "description": "The data retention policy."
        },
        "aiActClassification": {
          "type": "string",
          "enum": [
            "unacceptable",
            "high",
            "limited",
            "minimal"
          ],
          "description": "Classification according to the AI Act."
        },
        "operationalEnvironment": {
          "type": "string",
          "description": "The high-level operational environment."
        },
        "performanceGoals": {
          "type": "string",
          "description": "High-level performance requirements and goals."
        },
        "owner": {
          "type": "string",
          "description": "The owner of the project, inherited from the parent project for validation purposes."
        }
      }
    },
    "Lifecycle": {
      "title": "Lifecycle",
      "description": "Lifecycle overview for the project.",
      "type": "object",
      "properties": {
        "lifecycleModel": {
          "type": "string",
          "enum": [
            "ISO42001",
            "Custom"
          ],
          "description": "The lifecycle model used for the project."
        },
        "notes": {
          "type": "string",
          "description": "Notes related to the project lifecycle."
        },
        "lastReview": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp of the last review."
        }
      }
    },
    "Design": {
      "title": "Design",
      "description": "Design phase details of the AI system.",
      "type": "object",
      "properties": {
        "functionalRequirements": {
          "type": "string",
          "description": "Functional requirements for the AI system."
        },
        "nonFunctionalRequirements": {
          "type": "string",
          "description": "Non-functional requirements for the AI system."
        },
        "designChoices": {
          "type": "string",
          "description": "Design choices such as model selections, guardrails, and prompts."
        },
        "architectureSummary": {
          "type": "string",
          "description": "A summary of the system's architecture."
        },
        "dataArchitecture": {
          "type": "string",
          "description": "The architecture of the data processing and storage."
        },
        "performanceObjectives": {
          "type": "string",
          "description": "The performance objectives for the AI system."
        },
        "explainabilityStrategy": {
          "type": "string",
          "description": "The strategy for ensuring explainability of the AI system."
        }
      }
    },
    "Development": {
      "title": "Development",
      "description": "Development phase details of the AI system.",
      "type": "object",
      "properties": {
        "toolchain": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Toolchain used for the project (e.g., GitHub, Firebase, Azure)."
        },
        "devEnvironment": {
          "type": "string",
          "description": "The development environment for the project."
        },
        "codingStandards": {
          "type": "string",
          "description": "Coding standards applied to the project."
        },
        "dependencyList": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "A list of dependencies for the project."
        },
        "modelVersion": {
          "type": "string",
          "description": "The version of the model used."
        },
        "testApproach": {
          "type": "string",
          "description": "The approach for testing the AI system."
        },
        "securityControls": {
          "type": "string",
          "description": "Security controls implemented for the AI system."
        }
      }
    },
    "Training": {
      "title": "Training",
      "description": "Training phase details of the AI system.",
      "type": "object",
      "properties": {
        "hasTrainingPhase": {
          "type": "boolean",
          "description": "Indicates if the project has a training phase."
        },
        "datasetDescription": {
          "type": "string",
          "description": "Description of the dataset used for training."
        },
        "datasetSources": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Sources of the dataset."
        },
        "dataQualityChecks": {
          "type": "string",
          "description": "Procedures for checking data quality."
        },
        "biasAssessment": {
          "type": "string",
          "description": "Assessment of potential bias in the data or model."
        },
        "privacyAssessment": {
          "type": "string",
          "description": "Assessment of privacy implications."
        },
        "trainingProcedure": {
          "type": "string",
          "description": "The procedure used for training the model."
        },
        "trainingArtifacts": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Artifacts generated during training."
        }
      }
    },
    "Validation": {
      "title": "Validation",
      "description": "Validation phase details of the AI system.",
      "type": "object",
      "properties": {
        "validationMethods": {
          "type": "string",
          "description": "Methods used for validation."
        },
        "acceptanceCriteria": {
          "type": "string",
          "description": "Criteria for accepting the validation results."
        },
        "robustnessTests": {
          "type": "string",
          "description": "Tests for the robustness of the system."
        },
        "edgeCaseTests": {
          "type": "string",
          "description": "Tests for edge cases."
        },
        "validationResults": {
          "type": "string",
          "description": "The results of the validation."
        },
        "independentReview": {
          "type": "string",
          "description": "Information about any independent review of the validation."
        }
      }
    },
    "Deployment": {
      "title": "Deployment",
      "description": "Deployment phase details of the AI system.",
      "type": "object",
      "properties": {
        "infrastructure": {
          "type": "string",
          "description": "The infrastructure used for deployment (e.g., Firebase, GCP, Azure)."
        },
        "region": {
          "type": "string",
          "description": "The deployment region."
        },
        "ciCdPipeline": {
          "type": "string",
          "description": "Details about the CI/CD pipeline."
        },
        "accessControl": {
          "type": "string",
          "description": "Access control mechanisms in place."
        },
        "loggingPolicy": {
          "type": "string",
          "description": "The logging policy for the deployed system."
        },
        "secretsManagement": {
          "type": "string",
          "description": "How secrets are managed in the deployment environment."
        },
        "monitoringSetup": {
          "type": "string",
          "description": "The monitoring setup for the deployed system."
        }
      }
    },
    "Operation": {
      "title": "Operation",
      "description": "Operation phase details of the AI system.",
      "type": "object",
      "properties": {
        "monitoringProcedures": {
          "type": "string",
          "description": "Procedures for monitoring the AI system in operation."
        },
        "driftDetection": {
          "type": "string",
          "description": "Methods for detecting model or data drift."
        },
        "incidentHandling": {
          "type": "string",
          "description": "Process for handling incidents related to the AI system."
        },
        "modelUpdatePolicy": {
          "type": "string",
          "description": "Policy for updating the model in production."
        },
        "userFeedbackProcess": {
          "type": "string",
          "description": "Process for collecting and acting on user feedback."
        },
        "loggingRetention": {
          "type": "string",
          "description": "Policy for retaining logs from the AI system."
        }
      }
    },
    "Retirement": {
      "title": "Retirement",
      "description": "Retirement phase details of the AI system.",
      "type": "object",
      "properties": {
        "retirementPlan": {
          "type": "string",
          "description": "The plan for retiring the AI system."
        },
        "dataMigrationPlan": {
          "type": "string",
          "description": "The plan for migrating data upon system retirement."
        },
        "dataDestructionProcedures": {
          "type": "string",
          "description": "Procedures for destructing data upon system retirement."
        },
        "userCommunicationPlan": {
          "type": "string",
          "description": "The plan for communicating the system retirement to users."
        },
        "archiveLocation": {
          "type": "string",
          "description": "The location where the retired system and its data will be archived."
        },
        "conditionsForRetirement": {
          "type": "string",
          "description": "Conditions that must be met for the system to be retired."
        }
      }
    },
    "Governance": {
      "title": "Governance",
      "description": "Governance and controls for the project.",
      "type": "object",
      "properties": {
        "policyReferences": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "References to ISO 42001 / 27001 documents."
        },
        "rolesAndResponsibilities": {
          "type": "string",
          "description": "Roles and responsibilities for governance."
        },
        "documentationVersioning": {
          "type": "string",
          "description": "How documentation is versioned."
        },
        "auditRequirements": {
          "type": "string",
          "description": "Requirements for auditing."
        },
        "changeManagement": {
          "type": "string",
          "description": "Process for managing changes."
        },
        "qualityControls": {
          "type": "string",
          "description": "Quality controls in place."
        }
      }
    },
    "RiskRegisterEntry": {
      "title": "Risk Register Entry",
      "description": "An entry in the risk register for a project.",
      "type": "object",
      "properties": {
        "title": {
          "type": "string",
          "description": "The title of the risk."
        },
        "description": {
          "type": "string",
          "description": "A description of the risk."
        },
        "category": {
          "type": "string",
          "description": "The category of the risk.",
          "enum": [
            "privacy",
            "security",
            "bias",
            "robustness",
            "misuse",
            "legal",
            "accuracy"
          ]
        },
        "likelihood": {
          "type": "number",
          "description": "Likelihood of the risk occurring (1-5)."
        },
        "impact": {
          "type": "number",
          "description": "Impact of the risk if it occurs (1-5)."
        },
        "riskLevel": {
          "type": "number",
          "description": "Calculated risk level (likelihood * impact)."
        },
        "mitigations": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Mitigation measures for the risk."
        },
        "isoControls": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "ISO controls related to the risk (e.g., A.5.x)."
        },
        "owner": {
          "type": "string",
          "description": "The owner responsible for the risk."
        },
        "status": {
          "type": "string",
          "description": "The status of the risk.",
          "enum": [
            "open",
            "mitigated",
            "accepted"
          ]
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp when the risk was last updated."
        }
      },
      "required": [
        "title",
        "category",
        "likelihood",
        "impact"
      ]
    },
    "Document": {
      "title": "Document",
      "description": "A document associated with a project for export.",
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "technicalFile",
            "riskReport",
            "fullLifecycle",
            "custom"
          ],
          "description": "The type of the document."
        },
        "title": {
          "type": "string",
          "description": "The title of the document."
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp when the document was created."
        },
        "generatedBy": {
          "type": "string",
          "description": "The user or process that generated the document."
        },
        "storagePath": {
          "type": "string",
          "description": "Link to the document in Firebase Storage."
        },
        "version": {
          "type": "string",
          "description": "The version of the document."
        }
      },
      "required": [
        "type",
        "title",
        "createdAt"
      ]
    }
  },
  "auth": {
    "providers": [
      "password"
    ]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": {
        "$ref": "#/entities/UserProfile"
      },
      "description": "Stores user profile information."
    },
    "/projects/{projectId}": {
      "schema": {
        "$ref": "#/entities/Project"
      },
      "description": "Stores root information for an AI project."
    },
    "/projects/{projectId}/basicInfo/{docId}": {
      "schema": {
        "$ref": "#/entities/BasicInfo"
      },
      "description": "Stores basic info for a specific project."
    },
    "/projects/{projectId}/lifecycle/{docId}": {
      "schema": {
        "$ref": "#/entities/Lifecycle"
      },
      "description": "Stores lifecycle overview for a specific project."
    },
    "/projects/{projectId}/design/{docId}": {
      "schema": {
        "$ref": "#/entities/Design"
      },
      "description": "Stores design phase details for a specific project."
    },
    "/projects/{projectId}/development/{docId}": {
      "schema": {
        "$ref": "#/entities/Development"
      },
      "description": "Stores development phase details for a specific project."
    },
    "/projects/{projectId}/training/{docId}": {
      "schema": {
        "$ref": "#/entities/Training"
      },
      "description": "Stores training phase details for a specific project."
    },
    "/projects/{projectId}/validation/{docId}": {
      "schema": {
        "$ref": "#/entities/Validation"
      },
      "description": "Stores validation phase details for a specific project."
    },
    "/projects/{projectId}/deployment/{docId}": {
      "schema": {
        "$ref": "#/entities/Deployment"
      },
      "description": "Stores deployment phase details for a specific project."
    },
    "/projects/{projectId}/operation/{docId}": {
      "schema": {
        "$ref": "#/entities/Operation"
      },
      "description": "Stores operation phase details for a specific project."
    },
    "/projects/{projectId}/retirement/{docId}": {
      "schema": {
        "$ref": "#/entities/Retirement"
      },
      "description": "Stores retirement phase details for a specific project."
    },
    "/projects/{projectId}/governance/{docId}": {
      "schema": {
        "$ref": "#/entities/Governance"
      },
      "description": "Stores governance and controls for a specific project."
    },
    "/projects/{projectId}/riskRegister/{riskId}": {
      "schema": {
        "$ref": "#/entities/RiskRegisterEntry"
      },
      "description": "Subcollection for the risk register of a specific project."
    },
    "/projects/{projectId}/documents/{documentId}": {
      "schema": {
        "$ref": "#/entities/Document"
      },
      "description": "Subcollection for documents related to a specific project for export."
    }
  }
}
